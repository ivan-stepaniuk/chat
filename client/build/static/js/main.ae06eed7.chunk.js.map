{"version":3,"sources":["Login.js","SignUp.js","Header.js","Chat.js","Logout.js","History.js","index.js","App.js"],"names":["Login","props","signInRequest","bind","handleInputChange","state","authorized","user","firebase","auth","currentUser","event","target","value","name","this","setState","e","preventDefault","signInWithEmailAndPassword","email","password","then","authData","db","collection","doc","uid","get","data","window","localStorage","setItem","location","href","catch","err","error","message","to","Container","component","maxWidth","Typography","variant","align","onSubmit","TextField","margin","required","fullWidth","id","label","type","autoComplete","autoFocus","onChange","Button","color","Grid","container","item","Link","className","onClick","goToChat","React","Component","SignUp","signUpRequest","createUserWithEmailAndPassword","set","CssBaseline","noValidate","spacing","xs","justify","useStyles","makeStyles","theme","root","flexGrow","menuButton","marginRight","title","Header","classes","useState","AppBar","position","Toolbar","userName","Chat","sendMessage","socket","io","connect","getMessages","messages","reverse","on","messageData","JSON","parse","previousState","getItem","scrollToBottom","animateScroll","containerId","orderBy","limit","postObj","docs","map","dataToSend","msg","date","Date","emit","stringify","List","ListItem","ListItemText","primary","secondary","moment","fromNow","autocomplete","Logout","signOut","clear","History","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","appId","firestore","ReactDOM","render","path","document","getElementById"],"mappings":"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","file":"static/js/main.ae06eed7.chunk.js","sourcesContent":["import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport firebase from 'firebase';\nimport {Redirect} from \"react-router-dom\";\nimport {db} from \"./index.js\";\n\n\nclass Login extends React.Component {\n    constructor(props) {\n        super(props);\n        this.signInRequest = this.signInRequest.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.state = {\n            authorized: false,\n            user: firebase.auth().currentUser,\n        };\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    signInRequest(e) {\n        e.preventDefault();\n\n        firebase.auth()\n            .signInWithEmailAndPassword(this.state.email, this.state.password)\n            .then((authData) => {\n                db.collection(\"users\").doc(authData.user.uid).get().then((doc) => {\n                    const user = doc.data();\n\n                    if (user) {\n                        window.localStorage.setItem('authorized', true);\n                        window.localStorage.setItem('name', user.name);\n                        window.location.href = '/chat';\n                    }\n                })\n            }).catch((err) => {\n            this.setState({error: err.message})\n        })\n    }\n\n    goToChat() {\n        window.location.href = '/chat';\n    }\n\n    render() {\n\n        if (this.state.user) {\n            return (\n                <Redirect to='/chat'/>\n            )\n        }\n\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <p>{this.state.error}</p>\n                <div>\n                    <Typography component=\"h1\" variant=\"h5\" align={\"center\"}>\n                        Login\n                    </Typography>\n                    <br/>\n                    <form onSubmit={this.signInRequest}>\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            id=\"email\"\n                            label=\"Email Address\"\n                            name=\"email\"\n                            type=\"email\"\n                            autoComplete=\"email\"\n                            autoFocus\n                            onChange={this.handleInputChange}\n                        />\n                        <TextField\n                            variant=\"outlined\"\n                            margin=\"normal\"\n                            required\n                            fullWidth\n                            name=\"password\"\n                            label=\"Password\"\n                            type=\"password\"\n                            id=\"password\"\n                            autoComplete=\"current-password\"\n                            onChange={this.handleInputChange}\n                        />\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                        >\n                            Sign In\n                        </Button>\n                        <Grid container>\n                            <Grid item>\n                                <Link href=\"/signup\" variant=\"body2\">\n                                    {\"Don't have an account? Sign Up\"}\n                                </Link>\n                            </Grid>\n                        </Grid>\n                    </form>\n                </div>\n\n                <br/>\n                <br/>\n                <div className=\"align-center\">\n                    <p>or you can chat as anonymous</p>\n                    <Button variant=\"outlined\" color=\"primary\" onClick={this.goToChat}>\n                        Go to chat\n                    </Button>\n                </div>\n            </Container>\n        );\n    }\n}\n\nexport default Login","import React from 'react';\nimport Button from '@material-ui/core/Button';\nimport CssBaseline from '@material-ui/core/CssBaseline';\nimport TextField from '@material-ui/core/TextField';\nimport Link from '@material-ui/core/Link';\nimport Grid from '@material-ui/core/Grid';\nimport Typography from '@material-ui/core/Typography';\nimport Container from '@material-ui/core/Container';\nimport firebase from \"firebase\";\nimport {db} from \"./index.js\";\n\nexport default class SignUp extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.state = {};\n        this.signUpRequest = this.signUpRequest.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n    }\n\n    signUpRequest(e) {\n        e.preventDefault();\n\n        firebase.auth()\n            .createUserWithEmailAndPassword(this.state.email, this.state.password).then((authData) => {\n            db.collection(\"users\").doc(authData.user.uid).set({\n                name: this.state.name\n            }).then(() => {\n                window.location.href = '/login'\n            })\n        }, (error) => {\n            this.setState({error: error.message})\n        });\n    }\n\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    render() {\n        return (\n            <Container component=\"main\" maxWidth=\"xs\">\n                <p>{this.state.error}</p>\n                <CssBaseline/>\n                <div>\n                    <Typography component=\"h1\" variant=\"h5\">\n                        Sign up\n                    </Typography>\n                    <br/>\n                    <form noValidate onSubmit={this.signUpRequest}>\n                        <Grid container spacing={2}>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    id=\"text\"\n                                    label=\"Your name\"\n                                    name=\"name\"\n                                    onChange={this.handleInputChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    id=\"email\"\n                                    label=\"Email Address\"\n                                    name=\"email\"\n                                    autoComplete=\"email\"\n                                    onChange={this.handleInputChange}\n                                />\n                            </Grid>\n                            <Grid item xs={12}>\n                                <TextField\n                                    variant=\"outlined\"\n                                    required\n                                    fullWidth\n                                    name=\"password\"\n                                    label=\"Password\"\n                                    type=\"password\"\n                                    id=\"password\"\n                                    autoComplete=\"current-password\"\n                                    onChange={this.handleInputChange}\n                                />\n                            </Grid>\n                        </Grid>\n                        <br/>\n                        <Button\n                            type=\"submit\"\n                            fullWidth\n                            variant=\"contained\"\n                            color=\"primary\"\n                        >\n                            Sign Up\n                        </Button>\n                        <Grid container justify=\"flex-end\">\n                            <Grid item>\n                                <Link href=\"/login\" variant=\"body2\">\n                                    Already have an account? Sign in\n                                </Link>\n                            </Grid>\n                        </Grid>\n                    </form>\n                </div>\n            </Container>\n        )\n    }\n}","import React from 'react';\nimport {makeStyles} from '@material-ui/core/styles';\nimport AppBar from '@material-ui/core/AppBar';\nimport Toolbar from '@material-ui/core/Toolbar';\nimport Typography from '@material-ui/core/Typography';\nimport Button from \"@material-ui/core/Button\";\nimport {Link} from \"react-router-dom\";\n\nconst useStyles = makeStyles(theme => ({\n    root: {\n        flexGrow: 1,\n    },\n    menuButton: {\n        marginRight: theme.spacing(2),\n    },\n    title: {\n        flexGrow: 1,\n    },\n}));\n\nexport default function Header(props) {\n    const classes = useStyles();\n    const [auth] = React.useState(props.authorized);\n\n    return (\n        <div className={classes.root}>\n            <AppBar position=\"static\">\n                <Toolbar>\n                    <Typography variant=\"h6\" className={classes.title}>\n                        {props.title}\n                    </Typography>\n                    {auth && (\n                        <Typography> Your are logged in as {props.userName}</Typography>\n                    )}\n                    <Button variant=\"contained\" color=\"default\">{auth\n                        ? <Link to=\"/logout\">logout</Link>\n                        : <Link to=\"/login\">login</Link>}\n                    </Button>\n                    {auth && (\n                        <Button variant=\"contained\" color=\"default\"> <Link to=\"/history\">history</Link> </Button>)}\n                    {auth && (<Button variant=\"contained\" color=\"default\"> <Link to=\"/chat\">Chat</Link> </Button>)}\n                </Toolbar>\n            </AppBar>\n        </div>\n    );\n}","import React from 'react';\nimport io from \"socket.io-client\";\nimport TextField from \"@material-ui/core/TextField\";\nimport {db} from \"./index.js\";\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport Button from \"@material-ui/core/Button\";\nimport Header from \"./Header\";\n\nimport {animateScroll} from \"react-scroll\";\nimport moment from \"moment\";\n\nclass Chat extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.sendMessage = this.sendMessage.bind(this);\n        this.handleInputChange = this.handleInputChange.bind(this);\n        this.socket = io.connect();\n        this.getMessages().then(messages => {\n            this.setState({messages: messages.reverse()});\n        });\n\n        this.socket.on('chat message', (data) => {\n            const messageData = JSON.parse(data);\n            this.setState(previousState => ({\n                messages: [...previousState.messages, messageData]\n            }));\n        });\n        this.state = {\n            messages: [],\n            userName: window.localStorage.getItem('name'),\n            authorized: window.localStorage.getItem('authorized'),\n        };\n    }\n\n    componentDidMount() {\n        this.scrollToBottom();\n    }\n\n    componentDidUpdate() {\n        this.scrollToBottom();\n    }\n\n    scrollToBottom() {\n        animateScroll.scrollToBottom({\n            containerId: \"messages-block\"\n        });\n    }\n\n    getMessages() {\n        return db.collection('messages').orderBy(\"date\", \"desc\").limit(30).get().then((postObj) => {\n            return postObj.docs.map(doc => {\n                return doc.data()\n            })\n        });\n    }\n\n    handleInputChange(event) {\n        const target = event.target;\n        const value = target.value;\n        const name = target.name;\n\n        this.setState({\n            [name]: value\n        });\n    }\n\n    sendMessage() {\n        const dataToSend = {\n            name: this.state.authorized ? this.state.userName : null,\n            message: this.state.msg,\n            date: new Date()\n        };\n\n        this.socket.emit('chat message', JSON.stringify(dataToSend));\n    }\n\n    render() {\n        const messages = this.state.messages;\n\n        return (\n            <div>\n                <Header userName={this.state.userName} authorized={this.state.authorized} title={'Chat'}/>\n                <List id=\"messages-block\" className='messages-block'>\n                    {\n                        messages.map(message => {\n                            return (<ListItem>\n                                    <span>\n                                    </span>\n                                    <ListItemText\n                                        primary={message.message}\n                                        secondary={`by ${(message.name || 'anonymous')}  ${moment(message.date).fromNow()}`}\n                                    />\n                                </ListItem>\n                            )\n                        })\n                    }\n                </List>\n                <div className=\"footer\">\n                    <div>\n                        <TextField className=\"message-input\"\n                                   fullWidth label=\"Type here your message...\"\n                                   name='msg'\n                                   onChange={this.handleInputChange}\n                                   autoFocus={true}\n                                   autocomplete={false}\n                        />\n                        <Button variant=\"outlined\" className='send-button' onClick={this.sendMessage}>\n                            Send\n                        </Button>\n                    </div>\n                </div>\n            </div>\n        );\n    }\n}\n\nexport default Chat","import firebase from 'firebase'\n\nfunction Logout() {\n    return firebase.auth().signOut().then(() => {\n        window.localStorage.clear();\n        window.location.href = '/login';\n    }).catch((err) => {\n    })\n}\n\n\nexport default Logout","import React from 'react';\nimport List from \"@material-ui/core/List\";\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport {animateScroll} from \"react-scroll\";\nimport moment from \"moment\";\n\nimport Header from \"./Header\";\nimport {db} from \"./index.js\";\nclass History extends React.Component {\n    constructor(props) {\n        super(props);\n\n        this.getMessages().then(messages => {\n            this.setState({messages: messages.reverse()});\n        });\n        const authorized = window.localStorage.getItem('authorized');\n\n        if (!authorized) {\n            window.location.href = '/login';\n        }\n\n        this.state = {\n            messages: [],\n            userName: window.localStorage.getItem('name'),\n            authorized: window.localStorage.getItem('authorized'),\n        };\n    }\n\n    componentDidMount() {\n        this.scrollToBottom();\n    }\n\n    scrollToBottom() {\n        animateScroll.scrollToBottom({\n            containerId: \"messages-block\"\n        });\n    }\n\n    getMessages() {\n        return db.collection('messages').orderBy(\"date\", \"desc\").get().then((postObj) => {\n            return postObj.docs.map(doc => {\n                return doc.data()\n            })\n        });\n    }\n\n    render() {\n        const messages = this.state.messages;\n\n        return (\n            <div>\n                <Header userName={this.state.userName} authorized={this.state.authorized} title={'History'}/>\n\n                <List id=\"messages-block\" className='messages-block history'>\n                    {\n                        messages.map(message => {\n                            return (<ListItem>\n                                    <span>\n                                    </span>\n                                    <ListItemText\n                                        primary={message.message}\n                                        secondary={`by ${(message.name || 'anonymous')}  ${moment(message.date).fromNow()}`}\n                                    />\n                                </ListItem>\n                            )\n                        })\n                    }\n                </List>\n            </div>\n        );\n    }\n}\n\nexport default History","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nimport firebase from 'firebase'\n\nfirebase.initializeApp({\n    apiKey: \"AIzaSyD1voPHoDLS-wXsE5KX1p5DXOWUCKPF19U\",\n    authDomain: \"testproject-fcaaf.firebaseapp.com\",\n    databaseURL: \"https://testproject-fcaaf.firebaseio.com\",\n    projectId: \"testproject-fcaaf\",\n    storageBucket: \"testproject-fcaaf.appspot.com\",\n    messagingSenderId: \"12418952429\",\n    appId: \"1:12418952429:web:dc4d7c09460dd1ba40b0e4\"\n});\n\nexport const db = firebase.firestore();\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n","import React from \"react\";\nimport {\n    BrowserRouter as Router,\n    Switch,\n    Route,\n} from \"react-router-dom\";\nimport Login from \"./Login\";\nimport SignUp from \"./SignUp\";\nimport Chat from \"./Chat\";\nimport Logout from \"./Logout\";\nimport History from \"./History\";\n\nexport default function App() {\n    return (\n        <Router>\n            <Switch>\n                <Route path=\"/login\">\n                    <Login/>\n                </Route>\n                <Route path=\"/signup\">\n                    <SignUp/>\n                </Route>\n                <Route path=\"/logout\">\n                    <Logout/>\n                </Route>\n                <Route path=\"/history\">\n                    <History/>\n                </Route>\n                <Route path=\"/\">\n                    <Chat/>\n                </Route>\n            </Switch>\n        </Router>\n    )\n}\n"],"sourceRoot":""}